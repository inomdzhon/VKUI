"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[7823],{"../../node_modules/@vkontakte/icons/dist/es6/16/spinner_16.js":(e,t,r)=>{r.d(t,{g:()=>n});var n=(0,r("../../node_modules/@vkontakte/icons-sprite/dist/index.js").cL)("Icon16Spinner","spinner_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="spinner_16"><path fill-rule="evenodd" d="M8 3.25a4.75 4.75 0 0 0-4.149 7.065.75.75 0 1 1-1.31.732A6.25 6.25 0 1 1 8 14.25a.75.75 0 0 1 .001-1.5 4.75 4.75 0 1 0 0-9.5Z" clip-rule="evenodd" /></symbol>',16,16,!1,void 0)},"../../node_modules/@vkontakte/icons/dist/es6/24/spinner_24.js":(e,t,r)=>{r.d(t,{G:()=>n});var n=(0,r("../../node_modules/@vkontakte/icons-sprite/dist/index.js").cL)("Icon24Spinner","spinner_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="spinner_24"><path fill="currentColor" fill-rule="evenodd" d="M16.394 5.077A8.2 8.2 0 0 0 4.58 15.49a.9.9 0 0 1-1.628.767A10 10 0 1 1 12 22a.9.9 0 0 1 0-1.8 8.2 8.2 0 0 0 4.394-15.123" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},"../../node_modules/@vkontakte/icons/dist/es6/32/spinner_32.js":(e,t,r)=>{r.d(t,{c:()=>n});var n=(0,r("../../node_modules/@vkontakte/icons-sprite/dist/index.js").cL)("Icon32Spinner","spinner_32","0 0 32 32",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="spinner_32"><path fill="currentColor" d="M16 32a1.5 1.5 0 0 1 0-3c7.18 0 13-5.82 13-13S23.18 3 16 3 3 8.82 3 16c0 1.557.273 3.074.8 4.502A1.5 1.5 0 1 1 .986 21.54 15.97 15.97 0 0 1 0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16" /></symbol>',32,32,!1,void 0)},"../../node_modules/@vkontakte/icons/dist/es6/44/spinner_44.js":(e,t,r)=>{r.d(t,{a:()=>n});var n=(0,r("../../node_modules/@vkontakte/icons-sprite/dist/index.js").cL)("Icon44Spinner","spinner_44","0 0 44 44",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" id="spinner_44"><path fill="currentColor" d="M22 44a1.5 1.5 0 0 1 0-3c10.493 0 19-8.507 19-19S32.493 3 22 3 3 11.507 3 22c0 2.208.376 4.363 1.103 6.397a1.5 1.5 0 1 1-2.825 1.01A21.964 21.964 0 0 1 0 22C0 9.85 9.85 0 22 0s22 9.85 22 22-9.85 22-22 22" /></symbol>',44,44,!1,void 0)},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/styles/animationFades.module.css":(e,t,r)=>{r.d(t,{c:()=>u});var n=r("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=r.n(n),i=r("../../node_modules/css-loader/dist/runtime/api.js"),s=r.n(i)()(o());s.push([e.id,"@media (prefers-reduced-motion:no-preference){.-anim-fade-in--__Eff{animation:anim-fade-in--xxsS4 .1s ease-in forwards}.-anim-fade-out--j9FS6{animation:anim-fade-out--JWrSu .1s ease-out forwards}}@keyframes anim-fade-in--xxsS4{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes anim-fade-out--JWrSu{0%{opacity:1}to{opacity:0}}",""]),s.locals={"-anim-fade-in":"-anim-fade-in--__Eff","anim-fade-in":"anim-fade-in--xxsS4","-anim-fade-out":"-anim-fade-out--j9FS6","anim-fade-out":"anim-fade-out--JWrSu"};let u=s},"./src/hooks/useEffectDev.ts":(e,t,r)=>{r.d(t,{I:()=>n}),r("../../node_modules/react/index.js");var n=r("../../node_modules/@vkontakte/vkjs/lib/es6/index.js").Kw},"./src/hooks/useEnsuredControl.ts":(e,t,r)=>{r.d(t,{O:()=>l,u:()=>a});var n=r("../../node_modules/react/index.js"),o=r("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),i=r("./src/lib/useIsomorphicLayoutEffect.ts");function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],s=!0,u=!1;try{for(o=o.call(e);!(s=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){u=!0,n=e}finally{try{s||null==o.return||o.return()}finally{if(u)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){var t=e.onChange,r=e.disabled,o=u(l(function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["onChange","disabled"])),2),i=o[0],s=o[1];return[i,n.useCallback(function(e){!r&&(s(e.target.value),t&&t(e))},[s,t,r])]}function l(e){var t=e.value,r=e.defaultValue,s=e.disabled,a=e.onChange,l=void 0!==t,c=u(n.useState(r),2),d=c[0],f=c[1],m=n.useRef();(0,i.M)(function(){m.current=t});var v=n.useCallback(function(e){!s&&((0,o.mg)(e)?l?a&&a(e(m.current)):f(function(t){var r=e(t);return a&&a(r),r}):(a&&a(e),l||f(e)))},[s,l,a]);return[l?t:d,v]}},"./src/hooks/useGlobalOnClickOutside.ts":(e,t,r)=>{r.d(t,{e:()=>u}),r("../../node_modules/react/index.js");var n=r("./src/lib/dom.tsx"),o=r("../../node_modules/@vkontakte/vkui-floating-ui/utils/dom/dist/floating-ui.utils.dom.esm.js"),i=r("./src/lib/useIsomorphicLayoutEffect.ts");function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),u=1;u<t;u++)r[u-1]=arguments[u];var a=(0,n.C4)().document;(0,i.M)(function(){var t=r.some(function(e){return e&&null!==e.current});if(a&&t){var n=function(t){var n=t.target;(0,o.KI)(n)&&r.some(function(e){return e&&e.current&&e.current.contains(n)})||e(t)};return a.addEventListener("click",n,{passive:!0,capture:!0}),function(){a.removeEventListener("click",n,!0)}}},[a,e].concat(function(e){if(Array.isArray(e))return s(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return s(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,void 0)}}(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}},"./src/hooks/usePatchChildren.ts":(e,t,r)=>{r.d(t,{A:()=>f});var n=r("../../node_modules/react/index.js"),o=function(e,t){return"function"==typeof e[t]},i=function(e,t){var r=function(r){e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&o(e,r)&&o(t,r)&&(n[r]=function(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];t[r].apply(this,o),e[r].apply(this,o)})},n={};for(var i in e)r(i);return n},s=r("./src/lib/utils.ts"),u=r("./src/lib/warnOnce.ts"),a=r("./src/hooks/useEffectDev.ts"),l=r("./src/hooks/useExternRef.ts");function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,o,i;i=r[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}var d=(0,u.w)("usePatchChildrenRef"),f=function(e,t,r){var o=(0,s.wR)(e),u=o&&(0,s.wb)(e),f=o&&(0,s.O2)(e),m=u||f,v=(0,l.K)(m?e.ref:o?e.props.getRootRef:void 0,r),y=i(t||{},o?e.props:{}),p=m?c({ref:v},t,y):o?c({getRootRef:v},t,y):void 0;return(0,a.I)(function(){v.current||d("Кажется, в children передан компонент, который не поддерживает свойство getRootRef. Мы не можем получить ссылку на корневой dom-элемент этого компонента","error")},[o?e.type:null,v]),[v,o?n.cloneElement(e,p):e]}},"./src/lib/cssAnimation/fades.ts":(e,t,r)=>{r.d(t,{w:()=>p});var n=r("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=r.n(n),i=r("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),s=r.n(i),u=r("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),a=r.n(u),l=r("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),c=r.n(l),d=r("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),f=r.n(d),m=r("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/styles/animationFades.module.css"),v={attributes:{class:"vkui-style"}};v.setAttributes=c(),v.insert=a().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),o()(m.c,v);let y=m.c&&m.c.locals?m.c.locals:void 0;var p={in:y["-anim-fade-in"],out:y["-anim-fade-out"]}},"./src/lib/floating/adapters.ts":(e,t,r)=>{r.d(t,{iI:()=>s});var n=r("../../node_modules/@vkontakte/vkui-floating-ui/dom/dist/floating-ui.dom.esm.js"),o=r("../../node_modules/@vkontakte/vkui-floating-ui/utils/dom/dist/floating-ui.utils.dom.esm.js"),i={ancestorScroll:!0,ancestorResize:!0,elementResize:!1,animationFrame:!1};function s(e,t,r){var s,u,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i,l=a.elementResize,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(a,["elementResize"]),d=(0,n.kN)(e,t,r,(s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,o,i;i=r[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({},c),u=u={elementResize:!1},Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(u)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(u)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(u,e))}),s)),f=null;if(void 0!==l&&l){var m=!0;f=new MutationObserver(function(){m||r(),m=!1}),(0,o._e)(e)&&f.observe(e,{childList:!0,subtree:!0}),f.observe(t,{childList:!0,subtree:!0})}return function(){null!==f&&(f.disconnect(),f=null),d()}}},"./src/lib/floating/useFloatingMiddlewaresBootstrap/index.ts":(e,t,r)=>{r.d(t,{w:()=>a});var n=r("../../node_modules/react/index.js"),o=r("../../node_modules/@vkontakte/vkui-floating-ui/core/dist/floating-ui.core.esm.js"),i=r("../../node_modules/@vkontakte/vkui-floating-ui/react-dom/dist/floating-ui.react-dom.esm.js"),s=r("./src/lib/floating/functions.ts");function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a=function(e){var t=e.placement,r=void 0===t?"bottom-start":t,a=e.arrowRef,l=void 0===a?null:a,c=e.arrow,d=e.arrowHeight,f=e.arrowPadding,m=e.sameWidth,v=e.offsetByMainAxis,y=void 0===v?0:v,p=e.offsetByCrossAxis,b=void 0===p?0:p,g=e.customMiddlewares,h=e.hideWhenReferenceHidden;return n.useMemo(function(){var e=(0,s.G0)(r),t=[(0,o.E3)({crossAxis:b,mainAxis:c&&d?y+d:y})];return e?t.push((0,o.EB)({fallbackAxisSideDirection:"start"})):t.push((0,o.EX)({alignment:(0,s.WO)(r)})),t.push((0,o.CA)()),m&&t.push((0,o.eC)({apply:function(e){var t=e.rects;Object.assign(e.elements.floating.style,{width:"".concat(t.reference.width,"px")})}})),g&&t.push.apply(t,function(e){if(Array.isArray(e))return u(e)}(g)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(g)||function(e,t){if(e){if("string"==typeof e)return u(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,void 0)}}(g)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c&&t.push((0,i.eo)({element:l,padding:f})),h&&t.push((0,o.WS)()),{middlewares:t,strictPlacement:e?r:void 0}},[b,l,c,d,f,y,m,g,r,h])}},"./src/lib/floating/useFloatingWithInteractions/useFloatingWithInteractions.ts":(e,t,r)=>{r.d(t,{_:()=>h});var n=r("../../node_modules/react/index.js"),o=r("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),i=r("../../node_modules/@vkontakte/vkui-floating-ui/utils/dom/dist/floating-ui.utils.dom.esm.js"),s=r("./src/hooks/useEnsuredControl.ts"),u=r("./src/hooks/useGlobalOnClickOutside.ts"),a=r("./src/lib/useIsomorphicLayoutEffect.ts");function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(e){var t=this,r=n.useRef(e);return(0,a.M)(function(){r.current=e}),n.useRef(function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return(0,r.current).apply(t,function(e){if(Array.isArray(e))return l(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return l(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,void 0)}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}).current}var d=r("./src/lib/dom.tsx"),f=r("./src/lib/floating/adapters.ts"),m=r("../../node_modules/@vkontakte/vkui-floating-ui/react-dom/dist/floating-ui.react-dom.esm.js"),v=r("./src/lib/floating/functions.ts");function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],s=!0,u=!1;try{for(o=o.call(e);!(s=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){u=!0,n=e}finally{try{s||null==o.return||o.return()}finally{if(u)throw n}}return i}}(e,t)||b(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}}var g=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return f.iI.apply(void 0,((function(e){if(Array.isArray(e))return y(e)})(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||b(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([{elementResize:!0}]))},h=function(e){var t,r=e.trigger,l=e.placement,f=e.middlewares,y=e.hoverDelay,b=void 0===y?0:y,h=e.closeAfterClick,k=e.disabled,w=void 0!==k&&k,j=e.disableInteractive,O=void 0!==j&&j,S=e.disableCloseOnClickOutside,A=e.disableCloseOnEscKey,_=e.defaultShown,C=e.shown,x=e.onShownChange,I=n.useMemo(function(){return void 0!==C?{shown:C}:void 0},[C]),E=p((0,s.O)({value:I,disabled:w,defaultValue:{shown:void 0!==_&&_},onChange:c(function(e){var t=e.shown,r=e.reason;x&&x(t,r)})}),2),P=E[0],M=E[1],R=p(n.useState(function(){return P.shown}),2),L=R[0],T=R[1],D=p(n.useState(!1),2),F=D[0],B=D[1],W=n.useRef(!1),U=n.useRef(!1),z=n.useRef(!1),H=n.useRef(),K=w||void 0!==S&&S||F||!P.shown,$=("string"==typeof(t=void 0===r?"click":r)?[t]:t).reduce(function(e,t){switch(t){case"click":return e.triggerOnClick=!0,e;case"hover":return e.triggerOnHover=!0,e;case"focus":return e.triggerOnFocus=!0,e;case"manual":return e}},{triggerOnFocus:!1,triggerOnClick:!1,triggerOnHover:!1}),G=$.triggerOnFocus,J=$.triggerOnClick,N=$.triggerOnHover,V=(0,m.gR)({strategy:"fixed",placement:void 0===l?"bottom":l,middleware:f,whileElementsMounted:g}),Y=V.placement,X=V.x,Z=V.y,q=V.strategy,Q=V.refs,ee=V.middlewareData,et=n.useCallback(function(e,t){M(function(r){return r.shown!==e?{shown:e,reason:t}:r})},[M]),er=p("number"==typeof b?[b,b]:b,2),en=er[0],eo=er[1],ei=n.useMemo(function(){return(0,o.Cu)(function(){return et(!0,"hover")},en)},[en,et]),es=n.useMemo(function(){return(0,o.Cu)(function(){return et(!1,"hover")},eo)},[eo,et]),eu=c(function(){if(z.current){z.current=!1;return}et(!0,"focus")}),ea=c(function(e){if(z.current=!1,U.current=!1,!P.shown){clearTimeout(H.current);return}var t=e.relatedTarget;H.current=setTimeout(function(){var e=Q.reference.current;!t&&(0,d.UT)(e)===e||(0,d.Y7)(Q.floating.current,t)||(0,d.Y7)(e,t)||et(!1,"focus")})}),el=c(function(){et(!P.shown,"click")}),ec=c(function(){U.current=!0,et(!1,"click")}),ed=c(function(){ei.cancel(),es.cancel(),U.current||P.shown||ei()}),ef=c(function(){z.current=!1,U.current=!1,N&&(ei.cancel(),es.cancel(),"focus"!==P.reason&&"click"!==P.reason&&es())}),em=n.useCallback(function(){z.current=!0,et(!1,"callback")},[et]),ev=n.useCallback(function(){return!G||z.current},[G]),ey=n.useCallback(function(){z.current=!0,et(!1,"escape-key")},[et]),ep=n.useCallback(function(){z.current=!0,et(!1,"click-outside")},[et]);(0,u.e)(ep,K?null:Q.reference,O||K?null:Q.floating),(0,a.M)(function(){if(G&&Q.reference.current){var e=function(){var e=Q.reference.current;!P.shown&&(0,i._e)(e)&&e===(0,d.UT)(e)&&(z.current=!0)},t=(0,i.IT)(Q.reference.current);return t.addEventListener("blur",e),function(){t.removeEventListener("blur",e)}}},[G,Q.reference,P]),(0,a.M)(function(){if(!F&&P.shown!==L)return P.shown?T(!0):W.current&&!F?B(!0):T(!1),function(){clearTimeout(H.current)}},[P,L,F]);var eb=n.useRef({}),eg=n.useRef({style:{}});return L&&(eg.current.style=(0,v.Ko)(q,X,Z,void 0,ee),O&&(eg.current.style.pointerEvents="none")),G&&(eb.current.onFocus=eu,eb.current.onBlur=ea),J&&(eb.current.onClick=el),N&&(eb.current.onMouseOver=ed,void 0!==h&&h&&!J&&(eb.current.onClick=ec),O||(eg.current.onMouseOver=ed)),(N||G)&&(eb.current.onMouseLeave=ef,O||(eg.current.onMouseLeave=ef)),L&&(eg.current.onAnimationStart=function(){W.current=!0},eg.current.onAnimationEnd=function(){F&&(T(!1),B(!1))}),{placement:Y,shown:L,willBeHide:F,refs:Q,referenceProps:eb.current,floatingProps:eg.current,middlewareData:ee,onClose:em,onEscapeKeyDown:!L||void 0!==A&&A?void 0:ey,onRestoreFocus:ev}}},"./src/lib/floating/usePlacementChangeCallback.ts":(e,t,r)=>{r.d(t,{I:()=>i});var n=r("./src/hooks/usePrevious.ts"),o=r("./src/lib/useIsomorphicLayoutEffect.ts");function i(e,t){var r=(0,n.i)(e);(0,o.M)(function(){void 0!==r&&t&&r!==e&&t(e)},[r,e,t])}}}]);