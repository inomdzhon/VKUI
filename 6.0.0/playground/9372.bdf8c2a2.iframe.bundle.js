"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[9372],{"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/CustomSelect/CustomSelect.module.css":(e,t,n)=>{n.d(t,{c:()=>a});var o=n("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),l=n.n(o),r=n("../../node_modules/css-loader/dist/runtime/api.js"),u=n.n(r)()(l());u.push([e.id,".CustomSelect--t8BBn{cursor:pointer;display:block;position:relative;width:100%}.CustomSelect--pop-down--YTLW6{border-bottom-left-radius:0;border-bottom-right-radius:0}.CustomSelect--pop-up--wZZnV{border-top-left-radius:0;border-top-right-radius:0}.CustomSelect__control--VcHiM{display:none}.CustomSelect__empty--Vt06J{color:var(--vkui--color_text_secondary);padding:12px 0;text-align:center}.CustomSelect__fetching--kv01N{align-items:center;display:flex;justify-content:center}.CustomSelect__dropdown-icon--OR19l{margin-right:10px}.CustomSelect--clear-icon--Zu9v8{margin-right:-6px}.CustomSelect--sizeY-compact--_zPzn .CustomSelect__dropdown-icon--OR19l{margin-right:8px}.CustomSelect--sizeY-compact--_zPzn .CustomSelect--clear-icon--Zu9v8{margin-right:-2px}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.CustomSelect--sizeY-none--ScLah .CustomSelect__dropdown-icon--OR19l{margin-right:8px}.CustomSelect--sizeY-none--ScLah .CustomSelect--clear-icon--Zu9v8{margin-right:-2px}}",""]),u.locals={CustomSelect:"CustomSelect--t8BBn","CustomSelect--pop-down":"CustomSelect--pop-down--YTLW6","CustomSelect--pop-up":"CustomSelect--pop-up--wZZnV",CustomSelect__control:"CustomSelect__control--VcHiM",CustomSelect__empty:"CustomSelect__empty--Vt06J",CustomSelect__fetching:"CustomSelect__fetching--kv01N","CustomSelect__dropdown-icon":"CustomSelect__dropdown-icon--OR19l","CustomSelect--clear-icon":"CustomSelect--clear-icon--Zu9v8","CustomSelect--sizeY-compact":"CustomSelect--sizeY-compact--_zPzn","CustomSelect--sizeY-none":"CustomSelect--sizeY-none--ScLah"};let a=u},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/CustomSelect/CustomSelectInput.module.css":(e,t,n)=>{n.d(t,{c:()=>a});var o=n("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),l=n.n(o),r=n("../../node_modules/css-loader/dist/runtime/api.js"),u=n.n(r)()(l());u.push([e.id,".CustomSelectInput--DqvHQ{position:relative}.CustomSelectInput__el--YTaQr{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:0;border-radius:inherit;box-shadow:none;box-sizing:border-box;color:var(--vkui--color_text_primary);height:var(--vkui--size_field_height--regular);left:0;line-height:var(--vkui--size_field_height--regular);margin:0;padding:0 12px;position:absolute;top:0;width:100%;z-index:var(--vkui_internal--z_index_form_field_element)}.CustomSelectInput__el--cursor-pointer--FGam4{cursor:pointer}.CustomSelectInput--sizeY-compact--pVxPo .CustomSelectInput__el--YTaQr{height:var(--vkui--size_field_height--compact)}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.CustomSelectInput--sizeY-none--CyzRX .CustomSelectInput__el--YTaQr{height:var(--vkui--size_field_height--compact)}}.CustomSelectInput--hasBefore--qjWb8 .CustomSelectInput__el--YTaQr{padding-left:0}.CustomSelectInput--hasAfter--uk8Ef .CustomSelectInput__el--YTaQr{padding-right:0}.CustomSelectInput__el--YTaQr:disabled{opacity:var(--vkui--opacity_disable_accessibility)}.CustomSelectInput__container--KcnLH{box-sizing:border-box;color:var(--vkui--color_text_primary);max-height:100%;overflow:hidden;padding-left:12px;padding-right:0;pointer-events:none;width:100%;z-index:var(--vkui_internal--z_index_form_field_element)}.CustomSelectInput--hasBefore--qjWb8 .CustomSelectInput__container--KcnLH{padding-left:0}.CustomSelectInput--multiline--KeUIz .CustomSelectInput__container--KcnLH{padding-bottom:12px;padding-top:12px}.CustomSelectInput--sizeY-compact--pVxPo.CustomSelectInput--multiline--KeUIz .CustomSelectInput__container--KcnLH{padding-bottom:8px;padding-top:8px}@media (max-height:414.9px),(pointer:fine) and (min-width:768px){.CustomSelectInput--sizeY-none--CyzRX.CustomSelectInput--multiline--KeUIz .CustomSelectInput__container--KcnLH{padding-bottom:8px;padding-top:8px}}.CustomSelectInput__input-group--Zdfbs{align-items:center;align-self:stretch;display:flex;flex:1;overflow:hidden;position:relative}.CustomSelectInput--hasBefore--qjWb8 .CustomSelectInput__input-group--Zdfbs{border-radius:0}.CustomSelectInput__title--juUZ7{display:block}.CustomSelectInput--DqvHQ:not(.CustomSelectInput--multiline--KeUIz) .CustomSelectInput__title--juUZ7{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.CustomSelectInput--empty--9UXAt .CustomSelectInput__title--juUZ7{color:var(--vkui--color_text_secondary)}.CustomSelectInput__el--YTaQr::-ms-input-placeholder{opacity:0}.CustomSelectInput__el--YTaQr::placeholder{opacity:0}.CustomSelectInput--align-right--G0wA4 .CustomSelectInput__el--YTaQr,.CustomSelectInput--align-right--G0wA4 .CustomSelectInput__title--juUZ7{text-align:right}.CustomSelectInput--align-center--wi0Fz .CustomSelectInput__el--YTaQr,.CustomSelectInput--align-center--wi0Fz .CustomSelectInput__title--juUZ7{text-align:center}.vkuiInternalCalendarHeader__picker .CustomSelectInput__container--KcnLH{padding-right:4px}",""]),u.locals={CustomSelectInput:"CustomSelectInput--DqvHQ",CustomSelectInput__el:"CustomSelectInput__el--YTaQr","CustomSelectInput__el--cursor-pointer":"CustomSelectInput__el--cursor-pointer--FGam4","CustomSelectInput--sizeY-compact":"CustomSelectInput--sizeY-compact--pVxPo","CustomSelectInput--sizeY-none":"CustomSelectInput--sizeY-none--CyzRX","CustomSelectInput--hasBefore":"CustomSelectInput--hasBefore--qjWb8","CustomSelectInput--hasAfter":"CustomSelectInput--hasAfter--uk8Ef",CustomSelectInput__container:"CustomSelectInput__container--KcnLH","CustomSelectInput--multiline":"CustomSelectInput--multiline--KeUIz","CustomSelectInput__input-group":"CustomSelectInput__input-group--Zdfbs",CustomSelectInput__title:"CustomSelectInput__title--juUZ7","CustomSelectInput--empty":"CustomSelectInput--empty--9UXAt","CustomSelectInput--align-right":"CustomSelectInput--align-right--G0wA4","CustomSelectInput--align-center":"CustomSelectInput--align-center--wi0Fz"};let a=u},"./src/components/CustomSelect/CustomSelect.tsx":(e,t,n)=>{n.d(t,{k:()=>et});var o=n("../../node_modules/react/index.js"),l=n("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),r=n("./src/hooks/useAdaptivity.ts"),u=n("./src/hooks/useExternRef.ts"),a=n("./src/hooks/useFocusWithin.ts"),c=n("./src/lib/dom.tsx"),i=n("./src/lib/select.ts"),s=n("./src/lib/useIsomorphicLayoutEffect.ts"),d=n("./src/lib/utils.ts"),p=n("./src/lib/warnOnce.ts"),m=n("./src/components/CustomSelectDropdown/CustomSelectDropdown.tsx"),f=n("./src/components/CustomSelectOption/CustomSelectOption.tsx"),y=n("./src/components/DropdownIcon/DropdownIcon.tsx"),v=n("./src/components/Typography/Footnote/Footnote.tsx"),b=n("./src/components/VisuallyHidden/VisuallyHidden.tsx"),S=n("../../node_modules/@vkontakte/icons/dist/es6/16/cancel_16.js"),C=n("./src/components/IconButton/IconButton.tsx"),g=function(e){var t,n,l=e.className,r=e.onClick,u=function(e,t){if(null==e)return{};var n,o,l=function(e,t){if(null==e)return{};var n,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,["className","onClick"]);return o.createElement(C.w,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){var o,l,r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({Component:"button",label:"Очистить поле",onKeyDown:d.Ii,type:"button",activeMode:"opacity",hoverMode:"opacity"},u),n=n={className:l,onClick:function(e){(0,d.Ii)(e),e.preventDefault(),r()}},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n.push.apply(n,o)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t),o.createElement(S.I,null))};try{g.displayName="CustomSelectClearButton",g.__docgenInfo={description:"",displayName:"CustomSelectClearButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomSelect/CustomSelectClearButton.tsx#CustomSelectClearButton"]={docgenInfo:g.__docgenInfo,name:"CustomSelectClearButton",path:"src/components/CustomSelect/CustomSelectClearButton.tsx#CustomSelectClearButton"})}catch(e){}var h=n("./src/hooks/usePlatform.ts"),_=n("./src/components/FormField/FormField.tsx"),I=n("./src/components/SelectTypography/SelectTypography.tsx"),O=n("./src/components/Typography/Text/Text.tsx"),w=n("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),x=n.n(w),T=n("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),k=n.n(T),j=n("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),E=n.n(j),R=n("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),V=n.n(R),D=n("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),P=n.n(D),q=n("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/CustomSelect/CustomSelectInput.module.css"),B={attributes:{class:"vkui-style"}};B.setAttributes=V(),B.insert=E().bind(null,"head"),B.domAPI=k(),B.insertStyleElement=P(),x()(q.c,B);let z=q.c&&q.c.locals?q.c.locals:void 0;var A={none:z["CustomSelectInput--sizeY-none"],compact:z["CustomSelectInput--sizeY-compact"]},Y=function(e){var t,n,c=e.align,s=void 0===c?"left":c,d=e.getRef,p=e.className,m=e.getRootRef,f=e.style,y=e.before,v=e.after,S=e.status,C=e.children,g=e.placeholder,w=e.selectType,x=void 0===w?"default":w,T=e.multiline,k=e.disabled,j=e.fetching,E=e.labelTextTestId,R=function(e,t){if(null==e)return{};var n,o,l=function(e,t){if(null==e)return{};var n,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,["align","getRef","className","getRootRef","style","before","after","status","children","placeholder","selectType","multiline","disabled","fetching","labelTextTestId"]),V=(0,r._)().sizeY,D=void 0===V?"none":V,P=C||g,q=!R.value,B=(0,u.K)(m),Y=(0,a.G)(B),N=o.createElement(O.a,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){var o,l,r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({type:"text"},R),n=n={disabled:k&&!j,readOnly:R.readOnly||k&&j,Component:"input",normalize:!1,className:(0,l.gr)(z.CustomSelectInput__el,(R.readOnly||q&&!Y)&&z["CustomSelectInput__el--cursor-pointer"]),getRootRef:d,placeholder:C?"":g},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n.push.apply(n,o)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t)),H=(0,h.o)();return o.createElement(_.W,{Component:"div",style:f,className:(0,l.gr)(z.CustomSelectInput,"right"===s&&z["CustomSelectInput--align-right"],"center"===s&&z["CustomSelectInput--align-center"],!C&&z["CustomSelectInput--empty"],T&&z["CustomSelectInput--multiline"],"regular"!==D&&A[D],y&&z["CustomSelectInput--hasBefore"],v&&z["CustomSelectInput--hasAfter"],p),getRootRef:B,before:y,after:v,disabled:k,mode:(0,i.i)(x),status:S},o.createElement("div",{className:z["CustomSelectInput__input-group"]},o.createElement("div",{className:(0,l.gr)(z.CustomSelectInput__container,p),tabIndex:-1,"aria-hidden":!0,"data-testid":E},o.createElement(I.c,{selectType:x,className:z.CustomSelectInput__title},q&&P)),R.readOnly&&"ios"===H?o.createElement(b.K,null,N):N))};try{Y.displayName="CustomSelectInput",Y.__docgenInfo={description:"",displayName:"CustomSelectInput",props:{selectType:{defaultValue:{value:"default"},description:"",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"accent"'},{value:'"plain"'}]}},multiline:{defaultValue:null,description:"",name:"multiline",required:!1,type:{name:"boolean"}},labelTextTestId:{defaultValue:null,description:"",name:"labelTextTestId",required:!1,type:{name:"string"}},fetching:{defaultValue:null,description:"",name:"fetching",required:!1,type:{name:"boolean"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLInputElement>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},align:{defaultValue:{value:"left"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"right"'},{value:'"left"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"before",required:!1,type:{name:"ReactNode"}},after:{defaultValue:null,description:"Добавляет иконку справа.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"after",required:!1,type:{name:"ReactNode"}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"valid"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomSelect/CustomSelectInput.tsx#CustomSelectInput"]={docgenInfo:Y.__docgenInfo,name:"CustomSelectInput",path:"src/components/CustomSelect/CustomSelectInput.tsx#CustomSelectInput"})}catch(e){}var N=n("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/CustomSelect/CustomSelect.module.css"),H={attributes:{class:"vkui-style"}};H.setAttributes=V(),H.insert=E().bind(null,"head"),H.domAPI=k(),H.insertStyleElement=P(),x()(N.c,H);let K=N.c&&N.c.locals?N.c.locals:void 0;function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t){if(null==e)return{};var n,o,l=function(e,t){if(null==e)return{};var n,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,o,l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var r=[],u=!0,a=!1;try{for(l=l.call(e);!(u=(n=l.next()).done)&&(r.push(n.value),!t||r.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==l.return||l.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z=L({none:K["CustomSelect--sizeY-none"]},"compact",K["CustomSelect--sizeY-compact"]),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t>=e.length-1?-1:e.findIndex(function(e,n){return n>t&&!e.disabled})},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=-1;if(t<=0)return n;for(var o=t-1;o>=0;o--)if(!e[o].disabled){n=o;break}return n};function G(e){e.option;var t=F(e,["option"]);return o.createElement(f.E,t)}(0,p.w)("CustomSelect");var X=function(e){e.preventDefault()};function J(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return o&&""===n?-1:null!==(e=t.findIndex(function(e){return n="number"==typeof e.value?Number(n):n,e.value===n}))&&void 0!==e?e:-1}var $=function(e,t,n){return"function"==typeof n?e.filter(function(e){return n(t,e)}):e},ee=[];function et(e){var t,n,p,f,S=U(o.useState(!1),2),C=S[0],h=S[1],_=e.before,I=e.name,O=e.className,w=e.getRef,x=e.getRootRef,T=e.popupDirection,k=e.style,j=e.onChange,E=(e.children,e.onInputChange),R=e.renderDropdown,V=e.onOpen,D=e.onClose,P=e.fetching,q=e.forceDropdownPortal,B=e.selectType,z=e.autoHideScrollbar,A=e.autoHideScrollbarDelay,N=e.searchable,H=void 0!==N&&N,M=e.renderOption,et=void 0===M?G:M,en=e.options,eo=void 0===en?ee:en,el=e.emptyText,er=void 0===el?"Ничего не найдено":el,eu=e.filterFn,ea=void 0===eu?i.I:eu,ec=e.icon,ei=e.ClearButton,es=void 0===ei?g:ei,ed=e.allowClearButton,ep=void 0!==ed&&ed,em=e.dropdownOffsetDistance,ef=void 0===em?0:em,ey=e.dropdownAutoWidth,ev=e.noMaxHeight,eb=e["aria-labelledby"],eS=e.clearButtonTestId,eC=e.nativeSelectTestId,eg=e.defaultValue,eh=e.required,e_=F(e,["before","name","className","getRef","getRootRef","popupDirection","style","onChange","children","onInputChange","renderDropdown","onOpen","onClose","fetching","forceDropdownPortal","selectType","autoHideScrollbar","autoHideScrollbarDelay","searchable","renderOption","options","emptyText","filterFn","icon","ClearButton","allowClearButton","dropdownOffsetDistance","dropdownAutoWidth","noMaxHeight","aria-labelledby","clearButtonTestId","nativeSelectTestId","defaultValue","required"]),eI=(0,r._)().sizeY,eO=void 0===eI?"none":eI,ew=o.useRef(null),ex=(0,u.K)(ew,x),eT=o.useRef(null),ek=(0,u.K)(w),ej=U(o.useState(-1),2),eE=ej[0],eR=ej[1],eV=U(o.useState(void 0!==e.value),2),eD=eV[0],eP=eV[1],eq=U(o.useState(""),2),eB=eq[0],ez=eq[1],eA=U(o.useState(function(){var t,n;return null!==(n=null!==(t=e.value)&&void 0!==t?t:eg)&&void 0!==n?n:ep?"":void 0}),2),eY=eA[0],eN=eA[1],eH=U(o.useState(void 0),2),eK=eH[0],eM=eH[1],eL=U(o.useState(eo),2),eF=eL[0],eU=eL[1],eZ=U(o.useState(J(eo,null!==(p=e.value)&&void 0!==p?p:eg,ep)),2),eQ=eZ[0],eW=eZ[1];o.useEffect(function(){eP(void 0!==e.value),eN(function(t){var n;return null!==(n=e.value)&&void 0!==n?n:t})},[e.value]),(0,s.M)(function(){if(eF.some(function(e){return eY===e.value})||ep&&""===eY){var e,t=new Event("change",{bubbles:!0});null===(e=ek.current)||void 0===e||e.dispatchEvent(t)}},[eY]);var eG=o.useMemo(function(){return eF.length?void 0!==eQ?eF[eQ]:void 0:null},[eF,eQ]),eX=o.useMemo(function(){return C&&0===ef&&((null==eK?void 0:eK.includes("top"))?K["CustomSelect--pop-up"]:K["CustomSelect--pop-down"])||void 0},[ef,C,eK]),eJ=o.useCallback(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=eT.current,o=n?n.children[e]:null;if(o&&n){var l=n.offsetHeight,r=n.scrollTop,u=o.offsetTop,a=o.offsetHeight;t?n.scrollTop=u-l/2+a/2:u+a>l+r?n.scrollTop=u-l+a:u<r&&(n.scrollTop=u)}},[]),e$=o.useCallback(function(e){var t,n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(void 0!==e&&!(e<0)&&!(e>(null!==(t=eF.length)&&void 0!==t?t:0)-1)){var o=eF[e];null!=o&&o.disabled||(n&&eJ(e),eR(function(t){return t!==e?e:t}))}},[eF,eJ]),e0=o.useCallback(function(e){var t;return e>=0&&e<(null!==(t=eF.length)&&void 0!==t?t:0)},[eF.length]),e1=o.useCallback(function(e){eT.current=e,e&&void 0!==eQ&&e0(eQ)&&eJ(eQ,!0)},[e0,eJ,eQ]),e2=U(o.useState(""),2),e8=e2[0],e4=e2[1],e6=o.useCallback(function(){e4("")},[]),e9=o.useCallback(function(){eR(-1)},[]),e7=o.useCallback(function(e){C||h(!0),e9(),e4(e8+e)},[e8,C,e9]),e5=o.useCallback(function(){e6(),ez(""),h(!1),e9(),null==D||D()},[D,e6,e9]),e3=o.useCallback(function(t){var n=eF[t];if(eN(null==n?void 0:n.value),e5(),eD&&e.value!==eY&&eY===(null==n?void 0:n.value)){var o,l=new Event("change",{bubbles:!0});null===(o=ek.current)||void 0===o||o.dispatchEvent(l)}},[e5,eF,ek,eD,e.value,eY]),te=o.useCallback(function(){void 0!==eE&&e0(eE)&&e3(eE)},[eE,e0,e3]),tt=o.useCallback(function(){h(!0),eR(eQ),"function"==typeof V&&V()},[V,eQ]),tn=o.useCallback(function(){e5();var e,t=new Event("focusout",{bubbles:!0});null===(e=ek.current)||void 0===e||e.dispatchEvent(t)},[e5,ek]),to=o.useCallback(function(){var e,t=new Event("focusin",{bubbles:!0});null===(e=ek.current)||void 0===e||e.dispatchEvent(t)},[ek]),tl=o.useCallback(function(){C?e5():tt()},[e5,tt,C]),tr=o.useMemo(function(){return(0,d.Cu)(e6,1e3)},[e6]),tu=o.useCallback(function(e){var t=eE;if("next"===e){var n=Q(eF,t);t=-1===n?Q(eF):n}else if("prev"===e){var o=W(eF,t);t=-1===o?W(eF):o}e$(t)},[e$,eE,eF]);o.useEffect(function(){var t,n,o=null!==(n=null!==(t=e.value)&&void 0!==t?t:eY)&&void 0!==n?n:eg,l=H&&void 0!==eB?$(eo,eB,ea):eo;eU(l),eW(J(l,o,ep))},[ea,eB,eY,eo,eg,e.value,H,ep]);var ta=o.useCallback(function(e){E&&E(e);var t=$(eo,e.target.value,ea);eU(t),eW(J(t,eY,ep)),ez(e.target.value)},[ea,eY,E,eo,ep]),tc=o.useCallback(function(){return null!==eT.current},[]),ti=o.useCallback(function(e){if(1===e.key.length&&" "!==e.key){e7(e.key);return}switch(["ArrowUp","ArrowDown","Escape","Enter"].includes(e.key)&&tc()&&e.preventDefault(),e.key){case"ArrowUp":C?tc()&&tu("prev"):tt();break;case"ArrowDown":C?tc()&&tu("next"):tt();break;case"Escape":e5();break;case"Backspace":case"Delete":C||h(!0),e9();break;case"Enter":case"Spacebar":case" ":C?tc()&&te():tt()}},[tc,e5,tu,e7,tt,C,te,e9]),ts=o.useCallback(function(e){var t,n=Array.prototype.indexOf.call(null===(t=e.currentTarget.parentNode)||void 0===t?void 0:t.children,e.currentTarget),o=eF[n];o&&!o.disabled&&e3(n)},[eF,e3]),td=o.useRef({x:0,y:0}),tp=o.useCallback(function(e){var t;(Math.abs(td.current.x-e.clientX)>=1||Math.abs(td.current.y-e.clientY)>=1)&&e$(Array.prototype.indexOf.call(null===(t=e.currentTarget.parentNode)||void 0===t?void 0:t.children,e.currentTarget),!1),td.current={x:e.clientX,y:e.clientY}},[e$]),tm=o.useId(),tf=o.useCallback(function(e,t){var n=t===eE,l=t===eQ;return o.createElement(o.Fragment,{key:"".concat(e.value)},et({option:e,hovered:n,children:e.label,selected:l,disabled:e.disabled,onClick:ts,onMouseDown:X,onMouseMove:tp,id:"".concat(tm,"-").concat(e.value)}))},[eE,ts,tp,et,eQ,tm]),ty=o.useMemo(function(){var e=(null==eF?void 0:eF.length)>0?eF.map(tf):o.createElement(v.I,{className:K.CustomSelect__empty},er);return"function"==typeof R?R({defaultDropdownContent:e}):e},[er,eF,R,tf]),tv=o.useRef(null),tb=o.useRef(),tS=o.useCallback(function(){clearTimeout(tb.current),tb.current=setTimeout(function(){tv.current&&tv.current.focus()},0)},[]);(0,s.M)(function(){return function(){clearTimeout(tb.current)}},[]);var tC=eD&&""!==e.value,tg=!eD&&""!==eY,th=ep&&!C&&(tC||tg),t_=o.useMemo(function(){return th?o.createElement(es,{className:void 0===ec?K["CustomSelect--clear-icon"]:void 0,onClick:function(){eN(""),ez(""),tS()},disabled:e_.disabled,"data-testid":eS}):null},[th,es,ec,e_.disabled,eS,tS]),tI=o.useMemo(function(){return void 0!==ec?ec:o.createElement(y.M,{className:th?K["CustomSelect__dropdown-icon"]:void 0,opened:C})},[th,ec,C]),tO=(tI||th)&&o.createElement(o.Fragment,null,t_,tI),tw=(0,c.C4)().document,tx=o.useCallback(function(e){tv.current&&tw&&e.target!==tv.current&&(tv.current.click(),tw.activeElement!==tv.current&&tS())},[tw,tS]),tT=-1!==eE?eE:void 0,tk=void 0!==tT?eF[tT]&&eF[tT].value:null,tj=(L(f={role:"combobox","aria-controls":tm,"aria-owns":tm,"aria-expanded":C},"aria-activedescendant",tk&&C?"".concat(tm,"-").concat(tk):void 0),L(f,"aria-labelledby",eb),L(f,"aria-haspopup","listbox"),L(f,"aria-autocomplete","none"),f),tE=(0,a.G)(ex);return o.createElement("div",{className:(0,l.gr)(K.CustomSelect,"regular"!==eO&&Z[eO],O),style:k,ref:ex,onClick:tx,onMouseDown:function(e){tw&&tw.activeElement===tv.current&&e.preventDefault()}},tE&&eG&&!C&&o.createElement(b.K,{"aria-live":"polite"},eG.label),o.createElement(Y,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){L(e,t,n[t])})}return e}({autoComplete:"off",autoCapitalize:"none",autoCorrect:"off",spellCheck:"false"},e_,tj),n=n={getRef:tv,onFocus:to,onBlur:tn,className:eX,readOnly:!H,fetching:P,value:eB,onKeyUp:tr,onKeyDown:ti,onChange:ta,onClick:tl,before:_,after:tO,selectType:void 0===B?"default":B},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n.push.apply(n,o)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t),null==eG?void 0:eG.label),o.createElement("select",{ref:ek,name:I,onChange:function(e){var t=J(eF,e.currentTarget.value,ep);eQ!==t&&(eD||eW(t),null==j||j(e))},onBlur:e.onBlur,onFocus:e.onFocus,onClick:e.onClick,value:eY,"aria-hidden":!0,className:K.CustomSelect__control,"data-testid":eC,required:eh},ep&&o.createElement("option",{key:"",value:""}),eo.map(function(e){return o.createElement("option",{key:"".concat(e.value),value:e.value})})),C&&o.createElement(m.S,{targetRef:ew,placement:T,scrollBoxRef:e1,onPlacementChange:eM,onMouseLeave:e9,fetching:P,offsetDistance:ef,autoWidth:void 0!==ey&&ey,forcePortal:q,autoHideScrollbar:z,autoHideScrollbarDelay:A,noMaxHeight:void 0!==ev&&ev,role:"listbox",id:tm,"aria-labelledby":eb,tabIndex:-1},ty))}try{et.displayName="CustomSelect",et.__docgenInfo={description:"",displayName:"CustomSelect",props:{searchable:{defaultValue:null,description:"Если `true`, то при клике на `CustomSelect` в нём появится текстовое поле для поиска по `options`. По умолчанию поиск\nпроизводится по `option.label`.",name:"searchable",required:!1,type:{name:"boolean"}},emptyText:{defaultValue:null,description:"Текст, который будет отображен, если приходит пустой `options`.",name:"emptyText",required:!1,type:{name:"string"}},onInputChange:{defaultValue:null,description:"Событие изменения текстового поля",name:"onInputChange",required:!1,type:{name:"((e: ChangeEvent<Element>) => void)"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"OptionInterfaceT[]"}},filterFn:{defaultValue:null,description:"Функция для кастомной фильтрации. По умолчанию поиск производится по `option.label`.",name:"filterFn",required:!1,type:{name:"false | FilterFn<OptionInterfaceT>"}},popupDirection:{defaultValue:null,description:"",name:"popupDirection",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},renderOption:{defaultValue:null,description:"Рендер-проп для кастомного рендера опции.\nВ объекте аргумента приходят [свойства опции](https://vkcom.github.io/VKUI/#/CustomSelectOption?id=props)\n\n> ⚠️  Важно: cвойство опции `disabled` должно выставляться только через проп `options`.\n> Запрещается выставлять `disabled` проп опциям в обход `options`, иначе `CustomSelect` не будет знать об актуальном состоянии\nопции.",name:"renderOption",required:!1,type:{name:"((props: CustomSelectRenderOption<OptionInterfaceT>) => ReactNode)"}},renderDropdown:{defaultValue:null,description:"Рендер-проп для кастомного рендера содержимого дропдауна.\nВ `defaultDropdownContent` содержится список опций в виде скроллящегося блока.",name:"renderDropdown",required:!1,type:{name:"(({ defaultDropdownContent, }: { defaultDropdownContent: ReactNode; }) => ReactNode)"}},fetching:{defaultValue:null,description:'Если `true`, то в дропдауне вместо списка опций рисуется спиннер. При переданных `renderDropdown` и `fetching: true`\n"победит" `renderDropdown`.',name:"fetching",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"VoidFunction"}},onOpen:{defaultValue:null,description:"",name:"onOpen",required:!1,type:{name:"VoidFunction"}},icon:{defaultValue:null,description:"Иконка раскрывающегося списка",name:"icon",required:!1,type:{name:"ReactNode"}},ClearButton:{defaultValue:null,description:"Кастомная кнопка для очистки значения.\nДолжна принимать обязательное свойство `onClick`",name:"ClearButton",required:!1,type:{name:"ComponentType<CustomSelectClearButtonProps>"}},allowClearButton:{defaultValue:null,description:"Если `true`, то справа будет отображаться кнопка для очистки значения",name:"allowClearButton",required:!1,type:{name:"boolean"}},clearButtonTestId:{defaultValue:null,description:"(e2e) testId кнопки очистки",name:"clearButtonTestId",required:!1,type:{name:"string"}},dropdownOffsetDistance:{defaultValue:null,description:"",name:"dropdownOffsetDistance",required:!1,type:{name:"number"}},dropdownAutoWidth:{defaultValue:null,description:"Ширина раскрывающегося списка зависит от контента",name:"dropdownAutoWidth",required:!1,type:{name:"boolean"}},forceDropdownPortal:{defaultValue:null,description:"",name:"forceDropdownPortal",required:!1,type:{name:"boolean"}},selectType:{defaultValue:null,description:"",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"accent"'},{value:'"plain"'}]}},noMaxHeight:{defaultValue:null,description:"Отключает максимальную высоту по умолчанию",name:"noMaxHeight",required:!1,type:{name:"boolean"}},labelTextTestId:{defaultValue:null,description:"(e2e) testId элемента, внутри которого отображается текст выбранной опции `CustomSelect` или плейсхолдер.",name:"labelTextTestId",required:!1,type:{name:"string"}},nativeSelectTestId:{defaultValue:null,description:"",name:"nativeSelectTestId",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},multiline:{defaultValue:null,description:"",name:"multiline",required:!1,type:{name:"boolean"}},getRef:{defaultValue:null,description:"",name:"getRef",required:!1,type:{name:"Ref<HTMLSelectElement>"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"right"'},{value:'"left"'}]}},before:{defaultValue:null,description:"Добавляет иконку слева.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"before",required:!1,type:{name:"ReactNode"}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"valid"'}]}},after:{defaultValue:null,description:"Добавляет иконку справа.\n\nРекомендации:\n\n- Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n- Используйте [IconButton](https://vkcom.github.io/VKUI/#/IconButton), если вам нужна кликабельная иконка.",name:"after",required:!1,type:{name:"ReactNode"}},mode:{defaultValue:null,description:"Режим отображения.\n\n- `default` — показывает фон, обводку и, при наличии, текст-подсказку.\n- `plain` — показывает только текст-подсказку.",name:"mode",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"plain"'}]}},autoHideScrollbar:{defaultValue:null,description:"Скрывать ли ползунок скроллбара",name:"autoHideScrollbar",required:!1,type:{name:"boolean"}},autoHideScrollbarDelay:{defaultValue:null,description:"Через какое кол-во миллисекунд ползунок скроллбара скрывается",name:"autoHideScrollbarDelay",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CustomSelect/CustomSelect.tsx#CustomSelect"]={docgenInfo:et.__docgenInfo,name:"CustomSelect",path:"src/components/CustomSelect/CustomSelect.tsx#CustomSelect"})}catch(e){}},"./src/components/SelectTypography/SelectTypography.tsx":(e,t,n)=>{n.d(t,{c:()=>r});var o=n("../../node_modules/react/index.js"),l=n("./src/components/Typography/Text/Text.tsx"),r=function(e){var t=e.selectType,n=e.children,r=function(e,t){if(null==e)return{};var n,o,l=function(e,t){if(null==e)return{};var n,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,["selectType","children"]);return o.createElement(l.a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){var o,l,r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({weight:"accent"===(void 0===t?"default":t)?"2":"3"},r),n)};try{r.displayName="SelectTypography",r.__docgenInfo={description:"",displayName:"SelectTypography",props:{selectType:{defaultValue:{value:"default"},description:"",name:"selectType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"accent"'},{value:'"plain"'}]}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLSpanElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SelectTypography/SelectTypography.tsx#SelectTypography"]={docgenInfo:r.__docgenInfo,name:"SelectTypography",path:"src/components/SelectTypography/SelectTypography.tsx#SelectTypography"})}catch(e){}}}]);