"use strict";(self.webpackChunk_vkontakte_vkui=self.webpackChunk_vkontakte_vkui||[]).push([[7610],{"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/Calendar/Calendar.module.css":(e,a,n)=>{n.d(a,{c:()=>i});var t=n("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(t),l=n("../../node_modules/css-loader/dist/runtime/api.js"),o=n.n(l)()(r());o.push([e.id,".Calendar--zTx5x{background:var(--vkui--color_background_modal);border:.5px solid var(--vkui--color_separator_primary);border-radius:8px;box-shadow:var(--vkui--elevation1);box-sizing:border-box;display:flex;flex-direction:column;padding:12px;width:305px}.Calendar__time--CmaHe{border-top:1px solid var(--vkui--color_separator_primary);margin:12px -12px 0;padding:12px 12px 0}.Calendar__header--X9nkm{margin-bottom:4px}.Calendar--size-s--Ywffx{padding:8px;width:220px}.Calendar--size-s--Ywffx .Calendar__header--X9nkm{margin-bottom:0}",""]),o.locals={Calendar:"Calendar--zTx5x",Calendar__time:"Calendar__time--CmaHe",Calendar__header:"Calendar__header--X9nkm","Calendar--size-s":"Calendar--size-s--Ywffx"};let i=o},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/CalendarTime/CalendarTime.module.css":(e,a,n)=>{n.d(a,{c:()=>i});var t=n("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),r=n.n(t),l=n("../../node_modules/css-loader/dist/runtime/api.js"),o=n.n(l)()(r());o.push([e.id,".CalendarTime--m0_Km{align-items:center;display:flex}.CalendarTime__picker--UXQ5i{width:77px}.CalendarTime__divider--aqVbQ{color:var(--vkui--color_text_primary);font-family:var(--vkui--font_family_base);margin-left:6px;margin-right:6px}.CalendarTime__button--wWQWx{margin-left:auto}",""]),o.locals={CalendarTime:"CalendarTime--m0_Km",CalendarTime__picker:"CalendarTime__picker--UXQ5i",CalendarTime__divider:"CalendarTime__divider--aqVbQ",CalendarTime__button:"CalendarTime__button--wWQWx"};let i=o},"./src/components/Calendar/Calendar.tsx":(e,a,n)=>{n.d(a,{Y:()=>H});var t=n("../../node_modules/react/index.js"),r=n("../../node_modules/@vkontakte/vkjs/lib/es6/index.js"),l=n("./src/hooks/useCalendar.ts"),o=n("./src/lib/calendar.ts"),i=n("./src/lib/date.ts"),s=n("./src/lib/useIsomorphicLayoutEffect.ts"),d=n("./src/lib/warnOnce.ts"),u=n("./src/components/CalendarDays/CalendarDays.tsx"),c=n("./src/components/CalendarHeader/CalendarHeader.tsx"),m=n("./src/components/AdaptivityProvider/AdaptivityProvider.tsx"),p=n("./src/components/Button/Button.tsx"),b=n("./src/components/CustomSelect/CustomSelect.tsx"),v=n("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),h=n.n(v),y=n("../../node_modules/style-loader/dist/runtime/singletonStyleDomAPI.js"),f=n.n(y),g=n("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),C=n.n(g),_=n("../../node_modules/style-loader/dist/runtime/setAttributesWithAttributesAndNonce.js"),D=n.n(_),x=n("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),O=n.n(x),M=n("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/CalendarTime/CalendarTime.module.css"),P={attributes:{class:"vkui-style"}};P.setAttributes=D(),P.insert=C().bind(null,"head"),P.domAPI=f(),P.insertStyleElement=O(),h()(M.c,P);let T=M.c&&M.c.locals?M.c.locals:void 0;function w(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.forEach(function(a){var t,r,l;l=n[a],a in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l})}return e}function j(e,a){return a=null!=a?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):(function(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n.push.apply(n,t)}return n})(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}),e}for(var k=[],S=0;S<24;S+=1)k.push({value:S,label:String(S).padStart(2,"0")});for(var L=[],q=0;q<60;q+=1)L.push({value:q,label:String(q).padStart(2,"0")});var V=function(e){var a=e.value,n=e.doneButtonText,r=e.onChange,l=e.onClose,o=e.changeHoursLabel,s=e.changeMinutesLabel,d=e.isDayDisabled,u=d?k.map(function(e){return j(w({},e),{disabled:d((0,i.Af)(a,e.value),!0)})}):k,c=d?L.map(function(e){return j(w({},e),{disabled:d((0,i.k3)(a,e.value),!0)})}):L,v=t.useCallback(function(e){return null==r?void 0:r((0,i.Af)(a,Number(e.target.value)))},[r,a]),h=t.useCallback(function(e){return null==r?void 0:r((0,i.k3)(a,Number(e.target.value)))},[r,a]);return t.createElement("div",{className:T.CalendarTime},t.createElement("div",{className:T.CalendarTime__picker},t.createElement(m.i,{sizeY:"compact"},t.createElement(b.k,{value:a.getHours(),options:u,onChange:v,forceDropdownPortal:!1,"aria-label":o}))),t.createElement("div",{className:T.CalendarTime__divider},":"),t.createElement("div",{className:T.CalendarTime__picker},t.createElement(m.i,{sizeY:"compact"},t.createElement(b.k,{value:a.getMinutes(),options:c,onChange:h,forceDropdownPortal:!1,"aria-label":s}))),t.createElement("div",{className:T.CalendarTime__button},t.createElement(m.i,{sizeY:"compact"},t.createElement(p.q,{mode:"secondary",onClick:l,size:"l"},void 0===n?"Готово":n))))};try{V.displayName="CalendarTime",V.__docgenInfo={description:"",displayName:"CalendarTime",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"Date"}},doneButtonText:{defaultValue:{value:"Готово"},description:"",name:"doneButtonText",required:!1,type:{name:"string"}},changeHoursLabel:{defaultValue:null,description:"",name:"changeHoursLabel",required:!1,type:{name:"string"}},changeMinutesLabel:{defaultValue:null,description:"",name:"changeMinutesLabel",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: Date) => void)"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},isDayDisabled:{defaultValue:null,description:"",name:"isDayDisabled",required:!1,type:{name:"((day: Date, withTime?: boolean) => boolean)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CalendarTime/CalendarTime.tsx#CalendarTime"]={docgenInfo:V.__docgenInfo,name:"CalendarTime",path:"src/components/CalendarTime/CalendarTime.tsx#CalendarTime"})}catch(e){}var E=n("./src/components/RootComponent/RootComponent.tsx"),N=n("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/components/Calendar/Calendar.module.css"),A={attributes:{class:"vkui-style"}};A.setAttributes=D(),A.insert=C().bind(null,"head"),A.domAPI=f(),A.insertStyleElement=O(),h()(N.c,A);let I=N.c&&N.c.locals?N.c.locals:void 0;(0,d.w)("Calendar");var H=function(e){var a,n,d=e.value,m=e.onChange,p=e.disablePast,b=e.disableFuture,v=e.shouldDisableDate,h=e.onClose,y=e.enableTime,f=e.doneButtonText,g=e.weekStartsOn,C=e.disablePickers,_=e.changeHoursLabel,D=e.changeMinutesLabel,x=e.prevMonthLabel,O=e.nextMonthLabel,M=e.changeMonthLabel,P=e.changeYearLabel,T=e.showNeighboringMonth,w=e.changeDayLabel,j=e.size,k=void 0===j?"m":j,S=e.viewDate,L=e.onHeaderChange,q=e.onNextMonth,N=e.onPrevMonth,A=e.prevMonthIcon,H=e.nextMonthIcon,R=e.prevMonthProps,z=e.nextMonthProps,Y=e.dayProps,B=e.listenDayChangesForUpdate,F=e.minDateTime,U=e.maxDateTime,K=function(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},l=Object.keys(e);for(t=0;t<l.length;t++)n=l[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)n=l[t],!(a.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["value","onChange","disablePast","disableFuture","shouldDisableDate","onClose","enableTime","doneButtonText","weekStartsOn","disablePickers","changeHoursLabel","changeMinutesLabel","prevMonthLabel","nextMonthLabel","changeMonthLabel","changeYearLabel","showNeighboringMonth","changeDayLabel","size","viewDate","onHeaderChange","onNextMonth","onPrevMonth","prevMonthIcon","nextMonthIcon","prevMonthProps","nextMonthProps","dayProps","listenDayChangesForUpdate","minDateTime","maxDateTime"]),Q=(0,l.E)({value:d,disableFuture:b,disablePast:p,shouldDisableDate:v,onHeaderChange:L,onNextMonth:q,onPrevMonth:N,minDateTime:F,maxDateTime:U}),W=Q.viewDate,X=Q.setViewDate,G=Q.setPrevMonth,$=Q.setNextMonth,J=Q.focusedDay,Z=Q.setFocusedDay,ee=Q.isDayFocused,ea=Q.isDayDisabled,en=Q.resetSelectedDay;(0,s.M)(function(){d&&X(d)},[d]);var et=t.useCallback(function(e){["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&e.preventDefault();var a=(0,o.Yr)(null!=J?J:d,e.key);a&&!(0,i.CA)(a,W)&&X(a),Z(a)},[J,Z,X,d,W]),er=t.useCallback(function(e){var a=(0,o.O$)(e,d);(F||U)&&(a=(0,o.qk)(a,{min:F,max:U})),null==m||m(a)},[d,m,U,F]),el=t.useCallback(function(e){return!!(d&&(0,i.W)(e,d))},[d]);return t.createElement(E.Q,(a=function(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.forEach(function(a){var t,r,l;l=n[a],a in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l})}return e}({},K),n=n={baseClassName:(0,r.gr)(I.Calendar,"s"===k&&I["Calendar--size-s"])},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):(function(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n.push.apply(n,t)}return n})(Object(n)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))}),a),t.createElement(c.W,{viewDate:S||W,onChange:X,onNextMonth:$,onPrevMonth:G,disablePickers:C||"s"===k,className:I.Calendar__header,prevMonthLabel:void 0===x?"Предыдущий месяц":x,nextMonthLabel:void 0===O?"Следующий месяц":O,changeMonthLabel:void 0===M?"Изменить месяц":M,changeYearLabel:void 0===P?"Изменить год":P,prevMonthIcon:A,nextMonthIcon:H,prevMonthProps:R,nextMonthProps:z}),t.createElement(u._,{viewDate:S||W,value:d,weekStartsOn:void 0===g?1:g,isDayFocused:ee,tabIndex:0,"aria-label":void 0===w?"Изменить день":w,onKeyDown:et,onDayChange:er,isDayActive:el,isDaySelectionStart:o.Gu,isDaySelectionEnd:o.ol,isDayDisabled:ea,onBlur:en,showNeighboringMonth:T,size:k,dayProps:Y,listenDayChangesForUpdate:B}),void 0!==y&&y&&d&&"s"!==k&&t.createElement("div",{className:I.Calendar__time},t.createElement(V,{value:d,onChange:m,onClose:h,doneButtonText:f,changeHoursLabel:void 0===_?"Изменить час":_,changeMinutesLabel:void 0===D?"Изменить минуту":D,isDayDisabled:F||U?ea:void 0})))};try{H.displayName="Calendar",H.__docgenInfo={description:"",displayName:"Calendar",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"Date"}},disablePast:{defaultValue:null,description:"",name:"disablePast",required:!1,type:{name:"boolean"}},disableFuture:{defaultValue:null,description:"",name:"disableFuture",required:!1,type:{name:"boolean"}},enableTime:{defaultValue:{value:"false"},description:"",name:"enableTime",required:!1,type:{name:"boolean"}},disablePickers:{defaultValue:null,description:"",name:"disablePickers",required:!1,type:{name:"boolean"}},doneButtonText:{defaultValue:null,description:"",name:"doneButtonText",required:!1,type:{name:"string"}},changeDayLabel:{defaultValue:{value:"Изменить день"},description:"",name:"changeDayLabel",required:!1,type:{name:"string"}},weekStartsOn:{defaultValue:{value:"1"},description:"",name:"weekStartsOn",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"}]}},showNeighboringMonth:{defaultValue:null,description:"",name:"showNeighboringMonth",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"m"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'}]}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value?: Date) => void)"}},shouldDisableDate:{defaultValue:null,description:"",name:"shouldDisableDate",required:!1,type:{name:"((value: Date) => boolean)"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},viewDate:{defaultValue:null,description:"Дата отображаемого месяца.\nПри использовании обновление даты должно происходить вне компонента.",name:"viewDate",required:!1,type:{name:"Date"}},onHeaderChange:{defaultValue:null,description:"Изменение даты в шапке календаря.",name:"onHeaderChange",required:!1,type:{name:"((value: Date) => void)"}},minDateTime:{defaultValue:null,description:"Минимальные дата и время, которые можно выбрать",name:"minDateTime",required:!1,type:{name:"Date"}},maxDateTime:{defaultValue:null,description:"Максимальные дата и время, которые можно выбрать",name:"maxDateTime",required:!1,type:{name:"Date"}},getRootRef:{defaultValue:null,description:"",name:"getRootRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},changeHoursLabel:{defaultValue:{value:"Изменить час"},description:"",name:"changeHoursLabel",required:!1,type:{name:"string"}},changeMinutesLabel:{defaultValue:{value:"Изменить минуту"},description:"",name:"changeMinutesLabel",required:!1,type:{name:"string"}},prevMonthLabel:{defaultValue:{value:"Предыдущий месяц"},description:"",name:"prevMonthLabel",required:!1,type:{name:"string"}},nextMonthLabel:{defaultValue:{value:"Следующий месяц"},description:"",name:"nextMonthLabel",required:!1,type:{name:"string"}},changeMonthLabel:{defaultValue:{value:"Изменить месяц"},description:"",name:"changeMonthLabel",required:!1,type:{name:"string"}},changeYearLabel:{defaultValue:{value:"Изменить год"},description:"",name:"changeYearLabel",required:!1,type:{name:"string"}},prevMonthIcon:{defaultValue:null,description:"",name:"prevMonthIcon",required:!1,type:{name:"ReactNode"}},nextMonthIcon:{defaultValue:null,description:"",name:"nextMonthIcon",required:!1,type:{name:"ReactNode"}},onNextMonth:{defaultValue:null,description:"Нажатие на кнопку переключения на следующий месяц.",name:"onNextMonth",required:!1,type:{name:"(() => void)"}},onPrevMonth:{defaultValue:null,description:"Нажатие на кнопку переключения на предыдущий месяц.",name:"onPrevMonth",required:!1,type:{name:"(() => void)"}},prevMonthProps:{defaultValue:null,description:"",name:"prevMonthProps",required:!1,type:{name:"ArrowMonthProps"}},nextMonthProps:{defaultValue:null,description:"",name:"nextMonthProps",required:!1,type:{name:"ArrowMonthProps"}},listenDayChangesForUpdate:{defaultValue:null,description:"",name:"listenDayChangesForUpdate",required:!1,type:{name:"boolean"}},dayProps:{defaultValue:null,description:"",name:"dayProps",required:!1,type:{name:"CalendarDayElementProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Calendar/Calendar.tsx#Calendar"]={docgenInfo:H.__docgenInfo,name:"Calendar",path:"src/components/Calendar/Calendar.tsx#Calendar"})}catch(e){}}}]);